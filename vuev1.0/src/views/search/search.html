
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link href="../../../public/AmazeUI-2.4.2/assets/css/amazeui.css" rel="stylesheet" type="text/css" />
    <link href="../../../public/AmazeUI-2.4.2/assets/css/admin.css" rel="stylesheet" type="text/css" />
    <link href="../../../public/css/hmstyle.css" rel="stylesheet" type="text/css" />
    <link href="../../../public/basic/css/demo.css" rel="stylesheet" type="text/css" />
    <script src="../../../public/AmazeUI-2.4.2/assets/js/amazeui.min.js"></script>
    <script src="../../../public/AmazeUI-2.4.2/assets/js/jquery.min.js"></script>
    <script>

    </script>
</head>
<body>
<div class="nav white">
    <div class="logo"><img src="../../../../templater/AmazeUI/images/logo.png" /></div>
    <div class="logoBig">
        <li><img src="../../../../templater/AmazeUI/images/logobig.png" /></li>
    </div>

    <div class="search-bar pr">
        <a name="index_none_header_sysc" href="#"></a>
        <form id="app">
            <input v-model='search' id="searchInput" name="index_none_header_sysc" type="text" placeholder="搜索" autocomplete="off">
            <ul v-for="item in searchData ">
                <li>{{item.proName}},价格:￥{{item.proPrice}}</li>
            </ul>
            <input id="ai-topsearch" class="submit am-btn" value="搜索" index="1" type="submit">
        </form>
    </div>
</div>

<script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
<script>
    var vm = new Vue({
        el: '#app',
        data: {
            search: '',
            products: [{
                proName: '小米手环4 NFC版',
                proPrice: 229,
                proComm:"1",
                category: "水果"
            },
                {
                    proName: '小米手环4 NFC版',
                    proPrice: 229,
                    proComm:"1",
                    category: "水果"
                },
                {
                    proName: '小米手环4 NFC版',
                    proPrice: 229,
                    proComm:"1",
                    category: "水果"
                },
                {
                    proName: '小米手环4 NFC版',
                    proPrice: 229,
                    proComm:"1",
                    category: "水果"
                },
                {
                    proName: '小米手环4 NFC版',
                    proPrice: 229,
                    proComm:"1",
                    category: "水果"
                },
                {
                    proName: '小米手环4 NFC版',
                    proPrice: 229,
                    proComm:"1",
                    category: "水果"
                },
                {
                    proName: '小米手环4 NFC版',
                    proPrice: 229,
                    proComm:"1",
                    category: "水果"
                },
                {
                    proName: '小米手环4 NFC版',
                    proPrice: 229,
                    proComm:"1",
                    category: "水果"
                },
            ]
        },

        computed: {
            searchData: function() {
                alert("Enter!");
                var search = this.search;
                var searchVal = '';//搜索后的数据
                if (search) {
                    //product数据里面的key值
                    searchVal = this.products.filter(function(product) {
                        return Object.keys(product).some(function(key) {
                            // console.log("String product[key]all: "+String(product[key]).toLowerCase() )
                            // console.log("String product[key]exactly value(only one): "+String(product['questions']).toLowerCase())
                            //搜索所有的内容(模糊搜索)
                            console.log(searchVal)
                            return String(product[key]).toLowerCase().indexOf(search) > -1;
                            //只搜索问题内容（某一个key）（精确搜素）
                            //
                            return String(product['questions']).toLowerCase().indexOf(search)>-1;
                        })
                    })
                    console.log(searchVal)
                    return searchVal;



                }
            }
        }

    })
</script>
</body>
</html>
